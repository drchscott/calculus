<?xml version='1.0' encoding='utf-8'?>

<pretext xml:lang="en-US" xmlns:xi="http://www.w3.org/2001/XInclude">

  <docinfo>
    <macros>
      \newcommand{\R}{\mathbb R}
    </macros>
    <latex-image-preamble>
      \usepackage{tikz}
    </latex-image-preamble>
  </docinfo>

  <book xml:id="Lean-Calculus">
    <title>Lean Calculus</title>

    <frontmatter xml:id="frontmatter">
      <titlepage>
        <author>
          <personname>Dr. Chad Scott</personname>
          <department>Mathematics and Computer Science</department>
          <institution>University of Wisconsin - Superior</institution>
        </author>
        <date>
          <today />
        </date>
      </titlepage>

      <preface xml:id="preface">
        <p>The purpose of this text is to provide a distinctly lean presentation of traditional Calculus 1 material.</p>

        <p>The philosophy here is, in brief, that the core ideas of limit > derivative > integral are easy to understand and that understanding them happens for the largest audience by keeping the matter as direct and uncluttered as possible.  Further, anciliary concepts can be easily picked up once that core is in place and consequencly should not be presented initially since they clutter the presentation and produce possible distraction that reduces the chance that the critical core is understood. </p>

        <p>For future development, the plan is to flesh out the text by providing incremental introduction of Python / Sage coding so that students learn basic 3rd generation coding principles while also providing themselves the tools to visualize the core concepts in action via many of the powerful anciliary ideas including applications to many scientific disciplines</p>
      </preface>

    </frontmatter>

    <chapter xml:id="Limits">
      <title>Limits</title>
      <section xml:id="mainIdea">
        <title>The Main Idea</title>

      <p>Consider the function</p>
      <p><me>sin(x)/x</me></p>
      <p>Notice that this function can't be evaluated at x=0 (i.e. 0 is not in its domain.)  But, we could compute it for values of x *close* to 0.  For example, consider the following table for sin(x)/x.</p>
      <p>
          <tabular halign="center">
            <row header="yes" bottom="minor" >
              <cell><m>x</m></cell>
              <cell><m>sin(x)/x</m></cell>
            </row>
            <row>
              <cell>0.500</cell>
              <cell>0.958851</cell>
            </row>
            <row>
              <cell>0.100</cell>
              <cell>0.998334</cell>
            </row>
            <row>
              <cell>0.010</cell>
              <cell>0.999983</cell>
            </row>
            <row>
              <cell>0.001</cell>
              <cell>0.999999</cell>
            </row>
          </tabular>

      </p>
      <p>
        Look at this table.  As we move the <m>x</m> values closer to <m>0</m>, what are the <m>sin(x)/x</m> values getting closer to? It's apparent that as <m>x</m> approaches <m>0</m>, that <m>sin(x)/x</m> approaches <m>1</m>.  Of course, to be fair, at the moment we're only letting <m>x</m> approach <m>0</m> from the right hand (positive) side of <m>0</m>.  Let's create some notation to record this kind of information.
      </p>

      <definition xml:id="sideLimit">
        If <m>f(x)</m> approaches a number, say <m>l</m>, as <m>x</m> approaches a number <m>a</m> from its right hand side, then we write <md><mrow>\displaystyle \lim_{x\to a^{+}}f(x)=l</mrow></md> which is pronounced "The limit of <m>f(x)</m> is <m>l</m> as <m>x</m> approaches <m>a</m> from the right".  We also say that <m>f(x)</m> has a right hand limit of <m>l</m> at <m>a</m>.  Analogously, If <m>f(x)</m> approaches a number, say <m>k</m> as <m>x</m> approaches <m>a</m> from its <underline>left</underline> hand side, then we write <md><mrow>\displaystyle \lim_{x\to a^{-}}f(x)=k</mrow></md> which is pronounced "The limit of <m>f(x)</m> is <m>k</m> as <m>x</m> approaches <m>a</m> from the left".  Again, we also say that <m>f(x)</m> has a left hand limit of <m>k</m> at <m>a</m>.
      </definition>
      <p>
        So now, with this new notation, it seems reasonable to write 
        <md><mrow>\displaystyle \lim_{x\to 0^{+}}(sin(x)/x)=1</mrow></md>
      </p>
      <remark>
        It is critical to note here that we are using the word "approach" in the definition above to indicate that we simply take values of the domain variable <m>x</m> *close* to <m>a</m> but not equal to it.  In computing limits, we do not use <m>x=a</m>.  We're just identifying what <m>f(x)</m> is becoming as <m>x</m> *approaches* <m>a</m>.  In fact, in many cases such as <m>sin(x)/x</m>, we can't even compute the function at <m>x=a=0</m>.
      </remark>

      <example>
        For <m>f(x)=sin(x)/x</m> from above, make a table like the one above but this time use 4 or 5 domain values approaching <m>0</m> from the left.  Use the notation from the definition above to write your conclusion about the left hand limit.
      </example>

      <p>
        Finally, since it will often be the case that both the left hand and right hand limit come out the same (but not always) for a function, we just drop the <m>+</m> and <m>-</m> in that case.  In other words ...
      </p>

      <definition xml:id="limit">
        In case both the left hand and right hand limit of a function are the same (i.e. <m>\displaystyle \lim_{x\to a^{+}}f(x)=\displaystyle \lim_{x\to a^{-}}f(x)=l</m>), then we simply write <m>\displaystyle \lim_{x\to a}f(x)=l</m> without any reference to <m>+</m> or <m>-</m>.  In this case we say that <m>f(x)</m> has a limit of <m>l</m> at <m>a</m>.
      </definition>

      <example>
        For <m>f(x)=|x|/x</m>, notice that once again <m>0</m> is not in its domain.  Make tables for left and right hand approaches to <m>0</m> and use proper notation as defined above to write your conclusions about right hand limit, left hand limit and limit.
      </example>

    </section>

    <section xml:id="infinityLimits">
      <title>Infinity Stuff</title>
      <p>
        Consider the function <m>f(x)=1/x</m>.  What can you say about <m>\displaystyle \lim_{x\to 0^{+}}f(x)</m>?  Well, let's make a table and see.
      </p> 
      <p>
        <tabular halign="center">
          <row header="yes" bottom="minor" >
            <cell><m>x</m></cell>
            <cell><m>1/x</m></cell>
          </row>
          <row>
            <cell>1.000</cell>
            <cell>1</cell>
          </row>
          <row>
            <cell>0.100</cell>
            <cell>10</cell>
          </row>
          <row>
            <cell>0.010</cell>
            <cell>100</cell>
          </row>
          <row>
            <cell>0.001</cell>
            <cell>1000</cell>
          </row>
        </tabular>
      </p>
      <p>
        So, it's pretty apparent that as <m>x\to 0^{+}</m>, the function <m>1/x</m> isn't headed toward any number.  So, there is no limit.  Said differently, the right hand limit of <m>1/x</m>does not exist at <m>0</m>.  So, the limit notation we've created so far isn't useful.  However, it would be useful to record this information.  To do that, we write <m>\displaystyle \lim_{x\to 0^{+}}f(x)=\infty</m>.  Please note here that this notation is *not* saying that a limit exists.  It just is language explaining *how* it doesn't exist.
      </p>
      <example>
        Make another table for <m>1/x</m> but this time with value of <m>x</m> approaching <m>0</m> from the left.  What do you see?  What is a reasonable way to use limit notation and the <m>\infty</m> symbol to express what you find?
      </example>
      <definition xml:id="defInfinityLimits1">
        When <m>f(x)</m> grows positively without bound as <m>x</m> goes to <m>a</m> from the right, we write <m>\displaystyle \lim_{x\to a^{+}}f(x)=\infty</m>.  Also, when <m>f(x)</m> grows positively without bound as <m>x</m> goes to <m>a</m> from the left, we write <m>\displaystyle \lim_{x\to a^{-}}f(x)=\infty</m>.   Similarly, when <m>f(x)</m> grows negatively without bound as <m>x</m> goes to <m>a</m> from the right, we write <m>\displaystyle \lim_{x\to a^{+}}f(x)=-\infty</m> and when <m>f(x)</m> grows negatively without bound as <m>x</m> goes to <m>a</m> from the left, we write <m>\displaystyle \lim_{x\to a^{-}}f(x)=-\infty</m>.  As with actual limits, if we omit the <m>+</m> and <m>-</m> then we are saying that the behavior is the same from both directions.
      </definition>
      <p>
        We also use the <m>\infty</m> symbol as a *place* to let the domain variable *approach*.  When we let <m>x</m> get arbitrarily positively large, we write <m>x \to \infty</m>  So, for example, consider our friend <m>1/x</m>.   If you make a table for this taking larger and larger positive values of <m>x</m>, you'll see that <m>1/x</m> approaches <m>0</m>.  So, in that case, we can write <m>\displaystyle \lim_{x\to \infty}1/x=0</m>.
      </p>
      <example>
        Make another table for <m>1/x</m> but this time with value of <m>x</m> getting negatively large without bound (e.g. <m>-1, -10, -100, -1000, etc.</m>).  What do you see?  What is a reasonable way to use limit notation and the <m>\infty</m> symbol to express what you find?
      </example>
      <definition xml:id="defInfinityLimits2">
        To express a limit when we let the domain variable grow positively without bound, we write <m>\displaystyle \lim_{x\to \infty}</m> and to express a limit when we let the domain variable grow negatively without bound, we write <m>\displaystyle \lim_{x\to -\infty}</m>.
      </definition>
      <example>
        Use limit notation and the infinity symbol to express what is happening to <m>x^2</m> as <m>x</m> grows positively without bound.
      </example>
    </section>

    <section xml:id="limitProps">
      <title>Limit Properties</title>
      <p>
        A careful observer will notice that in the previous sections, we only looked at a handful of domain values to essentially make a guess as to where the function is headed.  Consider, for example, our friend <m>sin(x)/x</m>.  Look at the table we made at the beginning of the first section.  We stopped looking once we let <m>x</m> get down to <m>0.001</m>.  But what about even closer?  Like <m>x=0.0003</m> or <m>x=0.0000000162</m> or <m>x=0.0000000000004</m>?  Maybe waaaay down there <m>sin(x)/x</m> starts getting wonky.  Maybe.  So, right now we're just guessing that <m>\displaystyle \lim_{x\to 0^{+}}(sin(x)/x)=1</m>.  Educated guessing ... yes.  But still just guessing.  We'd like to start moving past just guessing.  We start doing that in this section.  We start by looking at a couple of functions whose limits are not in question.  
      </p>
      <p>
        First, consider a constant function like <m>f(x)=5</m>.  No matter what you put in for <m>x</m>, it gives us <m>5</m>.  So, there's no question what it's approaching regardless of where we let <m>x</m> go.  It's always giving <m>5</m>.  So, we have ...
      </p>
      <theorem xml:id="thm-limitOfConstants">
        <statement>
          <p>
            If <m>f(x)</m> is constant, say <m>f(x)=k</m> for some number <m>k</m>, and <m>a</m> is any number, Then <m>\displaystyle \lim_{x\to a}f(x)=k</m>.
          </p>
        </statement>
      </theorem>
      <p>
        Secondly, consider the function <m>f(x)=x</m>.  Well, this function just does whatever <m>x</m> does.  So, where <m>x</m> goes, so does <m>f(x)=x</m>.  Thus, we have ...
      </p>
      <theorem xml:id="thm-limitOfIdentity">
        <statement>
          <p>
            If <m>f(x)=x</m> and <m>a</m> is any number, Then <m>\displaystyle \lim_{x\to a}f(x)=a</m>.
          </p>
        </statement>
      </theorem>
      <p>
        It is our good fortune that limits behave according to the following theorem.
      </p>
      
      <theorem xml:id="thm-limitBasicProperties">
        <statement>
          <p>
            If <m>\displaystyle \lim_{x\to a}f(x)=l</m> and <m>\displaystyle \lim_{x\to a}g(x)=k</m> and <m>r</m> and <m>s</m> are any two numbers and the right hand side of the following equalities are defined, Then <m>\displaystyle \lim_{x\to a}(rf(x)+sg(x))=rl+sk</m>, <m>\displaystyle \lim_{x\to a}(f(x)g(x))=lk</m>, and <m>\displaystyle \lim_{x\to a}(f(x)/g(x))=l/k</m>.
          </p>
        </statement>
      </theorem>
      <remark>
        It is also the case that if all of the <m>\displaystyle \lim_{x\to a}</m> are replaced with either <m>\displaystyle \lim_{x\to a^{+}}</m> or <m>\displaystyle \lim_{x\to a^{-}}</m>, then the theorem <xref ref="thm-limitBasicProperties"/> is still correct.
      </remark>
      <p>
        Often, people cite this basic properties theorem by saying, "the limit of a sum is the sum of the limits, the limit of a product is the product of the limits, and the limit of a ratio is the ratio of the limits".
      </p>
      <remark>
        Please note that, from the conditions of the theorem, if the right hand side of any of the equalities in this theorem can not be computed, then the theorem is not making a statement (i.e. isn't valid, isn't a thing).  For example, if <m>k=0</m> in the theorem, then we certainly are not claiming that <m>\displaystyle \lim_{x\to a}(f(x)/g(x))=l/k</m> since the right hand side of this equality is <m>l/0</m> which isn't even a thing to claim something is.
      </remark>
      <example>
        Use <xref ref="thm-limitBasicProperties"/> to compute <m>\displaystyle \lim_{x\to 2}(x^2)</m>, <m>\displaystyle \lim_{x\to -1}(x^2+3x)</m>, and <m>\displaystyle \lim_{x\to 0}(x^2+3x)/(x+2)</m>.
      </example>
      <p>
        Using <xref ref="thm-limitBasicProperties" />, we quickly deduce the following quick conclusions (called "corollaries" by mathematicians).
      </p>
      <corollary xml:id="limitCorollaries">
        <statement>
          <ol>
            <li>
              <p>
                If <m>q</m> is a nonzero rational number and <m>a</m> is a nonzero number at which <m>a^q</m> is defined, then <m>\displaystyle \lim_{x\to a}x^q=a^q</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>p(x)</m> and <m>q(x)</m> are polynomials and <m>q(a)\ne 0</m>, then <m>\displaystyle \lim_{x\to a}(p(x)/q(x))=p(a)/q(a)</m>.
              </p>
            </li>
          </ol>
        </statement>
      </corollary>
      <p>
        Finally, we provide here a short list of known limits for use in subsequent sections.
      </p>
      <theorem xml:id="thm-AFewKnownLimits">
        <statement>
          <ol>
            <li>
              <p>
                If <m>a</m> is any number, then <m>\displaystyle \lim_{x\to a}sin(x)=sin(a)</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>a</m> is any number, then <m>\displaystyle \lim_{x\to a}cos(x)=cos(a)</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>a</m> is any number, then <m>\displaystyle \lim_{x\to a}e^x=e^a</m>.
              </p>
            </li>
            <li>
              <p>
                If <m>a > 0</m>, then <m>\displaystyle \lim_{x\to a}ln(x)=ln(a)</m>.
              </p>
            </li>
          </ol>
        </statement>
      </theorem>
      
      
    </section>

    </chapter>

    <chapter xml:id="Continuity">
      <title>Continuity</title>
      <section xml:id="defContinuitySection">
        <title>Definition</title>
      <p>
        Consider ...
      </p>

      <figure>
        <caption></caption>
        <image xml:id="firstDiscontinuityExampleGraph" width="65%">
            <description>First discontinuity example</description>
            <sageplot>
              p1 = plot(x^2, x, 0, .99, color='black', ymax=2)
              p2 = plot(-x+2, x, 1.02, 2, color='black', ymax=2)
              pt1 = point((1, 1.5), rgbcolor='black', pointsize=30)
              pt2 = circle((1,1), 0.02, rgbcolor=(0,0,0))
              p1+p2+pt1+pt2
            </sageplot>
        </image>
      </figure>
      <p>
        Which, for the record, happens to be the graph of the following function
        <me>
          f(x) = \left\{ \begin{array}{cc}
            x^2 \amp 0 \le x \lt 1 \\
            1.5 \amp x=1 \\
            2-x \amp 1 \lt x \le 2
          \end{array}
          \right.
        </me>
      </p>
      <p>
        Using the limit notation developed to this point, we notice that <m>\displaystyle \lim_{x\to 1}f(x)=1</m>.  As it happens for this function though, we notice that this does not match the value of <m>f(1)=1.5</m>.  That is, for this particular function at the domain value <m>x=1</m>, we have
        <md><mrow>\displaystyle \lim_{x\to 1}f(x) \ne f(1)</mrow></md>
        Visually (i.e. looking at the graph of <m>f</m>), this shows up as some sort of "break" in the graph of <m>f</m> at <m>x=1</m>.  In such cases, we say that <m>f</m> has a "discontinuity" at <m>x=1</m>.  Precisely, we have
      </p>
      <definition xml:id="defContinuity">
        When it is the case that <m>\displaystyle \lim_{x\to a}f(x)=f(a)</m>, we say that <m>f</m> is "continuous at <m>a</m>".  Otherwise, we say that <m>f</m> is "discontinuous at <m>a</m>".
      </definition>
      <p>
        It is worth noting here that some discontinuities are "removable" and some are not.  Consider <m>f(x)=1/x</m>.  This familiar function has the graph
      </p>
        <figure>
          <caption></caption>
          <image xml:id="badDiscontinuityExampleGraph" width="65%">
              <description>Bad discontinuity example</description>
              <sageplot>
                p1 = plot(1/x, x, -1, 1, color='black', ymax=10, ymin=-10)
                p1
              </sageplot>
          </image>
        </figure>
      <p>
        At <m>x=0</m>, this function has no limit of any kind (and isn't even defined) at <m>0</m>.  Even worse, if we chose to define a function that was <m>1/x</m> for all <m>x\ne 0</m> and set it to be *something* at <m>0</m>, there is nothing we could set it to in order to make it continuous since <m>1/x</m> has no limit at <m>0</m>.  So, this discontinuity at <m>0</m> is quite bad.
      </p>
      <p>
        On the other hand, looking at the graph at the start of the section, if we had just defined that function to be <m>f(1)=1</m> instead of <m>f(1)=1.5</m>, then <m>f</m> would have been continuous at <m>1</m> and, as apparent from the graph, everywhere else between <m>x=0</m> and <m>x=2</m>.  Such discontinuities are often called "removable".  So, we'd say that for the function at the start of the section, the discontinuity at <m>x=1</m> is "removable".
      </p>
    </section>
    <section xml:id="basicPropsOfContinuity">
      <title>Basic Properties</title>
      <p>
        In light of the definition of continuity from the previous section, we see that <xref ref="limitCorollaries"/> and <xref ref="thm-AFewKnownLimits"/> are really saying ...
      </p>
      <theorem xml:id="thm-AFewKnownContinuities">
        <statement>
          Rational functions, <m>e^x</m>, <m>ln(x)</m>, <m>sin(x)</m> and <m>cos(x)</m> are all continuous wherever they are defined.
        </statement>
      </theorem>
      <p>
        The basic limit properties then yield the following
      </p>
      <corollary xml:id="cor-basicContinuityProps">
        <statement>
          If <m>f(x)</m> and <m>g(x)</m> are both continuous at a given <m>x</m>, then <m>rf(x)+sg(x)</m> and <m>f(x)g(x)</m> are all continuous at that <m>x</m>.  Further, if also <m>g(x)\ne 0</m> then <m>f(x)/g(x)</m> is continuous at <m>x</m>.
        </statement>
      </corollary>
      <p>
        So, for example, if we want to calculate the limit of <m>tan(x)</m> at <m>7.2</m>, it's very easy since we know from the corollary above that <m>tan(x)</m>, which is simply <m>sin(x)/cos(x)</m> is continuous at <m>7.2</m>.  Thus
        <me>\displaystyle \lim_{x\to 7.2}tan(x)=tan(7.2)</me>
      </p>
    </section>
    <section xml:id="otherPropsOfContinuity">
      <title>Intermediate Values</title>
      <p>
        Recall the graph of this function from the first section of this chapter.
        <image width="65%">
            <sageplot>
              p1 = plot(x^2, x, 0, .99, color='black', ymax=2)
              p2 = plot(-x+2, x, 1.02, 2, color='black', ymax=2)
              pt1 = point((1, 1.5), rgbcolor='black', pointsize=30)
              pt2 = circle((1,1), 0.02, rgbcolor=(0,0,0))
              p1+p2+pt1+pt2
            </sageplot>
        </image>
        Notice that it has the value <m>0</m> at <m>0</m> (i.e. <m>f(0)=0</m>) and it has the value <m>1.5</m> at <m>1</m> (i.e. <m>f(1)=1.5</m>).  But, does it ever have the value <m>1.3</m> (i.e. is there a domain value <m>x</m> for which <m>f(x)=1.3</m>)?  Imagine a horizontal line on the graph at a height of <m>1.3</m> and you'll see that the answer is "no".  So, why not?  What goes wrong that this function has the value <m>0</m> and <m>1.5</m> but never not has the intermediate value <m>1.3</m>?  Hopefully the answer is apparent.  Namely, the function has a discontinuity so there is a "break" / "jump" over some of the intermediate values like <m>1.3</m>.  One of the nice properties of functions that are continuous on an interval of numbers (i.e. continous at every number in an interval) is that it obtains all of its intermediate values.  Specifically, we have the following theorem known by mathematicians as the "Intermediate Value Theorem (IVT)".
      </p>
      <theorem xml:id="thm-IVT">
        <statement>
          If <m>f</m> is continuous on an interval <m>I</m> (whether open, half open, or closed) and <m>r</m> and <m>s</m> are two values that <m>f</m> obtains and finally <m>w</m> happens to be a number between (i.e. intermediate to) <m>r</m> and <m>s</m>, then there is some <m>x</m> in <m>I</m> so that <m>f(x)=w</m>.
        </statement>
      </theorem>
    <p>
      Consider for example the function above but this time defined with <m>f(1)=1</m>.  Here, let's plot it.
      <image width="65%">
        <sageplot>
          p1 = plot(x^2, x, 0, 1, color='black', ymax=2)
          p2 = plot(-x+2, x, 1, 2, color='black', ymax=2)
          pt1 = point((1, 1), rgbcolor='black', pointsize=30)
          p1+p2+pt1
        </sageplot>
      </image>
      Now, if you look at any two values the function obtains, you'll see that every value in between them is also obtained by the function.  In other words, point one finger at a number on the vertical axis that the function obtains and also point a finger at another number on the vertical axis that the function obtains and then consider any number in between.  Look over at the graph and you'll see that the function also obtains that value.  Why?  Well, we removed the disontinuity so now this function is continuous on the interval <m>I=[0,2]</m> so we have the IVT.
    </p> 
  </section>
</chapter>

<chapter xml:id="Derivatives">
  <title>Derivatives</title>
  <section xml:id="sec-tangentProblem">
    <title>Tangent Problem</title>
    <p>
      Consider this graph of <m>f(x)=x^2</m>.      
      <image width="65%">
        <sageplot>
          fg = plot(x^2, x, -.5, 2, color='black')
          tl = plot(2*(x-1)+1, x, -.5, 2, color='black')
          l1 = plot(3*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
          pt = point((1, 1), rgbcolor='black', pointsize=30)
          fg+tl+l1+pt
        </sageplot>
      </image>
      In addition to <m>x^2</m>, a couple of lines are plotted here.  They both pass through the point <m>(1,1)</m> on the graph.  Notice that the black line is special in a particular way.  Namely, it just "touches" the graph at <m>(1,1)</m> without "cutting" through the graph.  If you used any other line passing touching <m>(1,1)</m> (i.e. touch <m>(1,1)</m> but use a different slope) like the dashed line, then it "cuts through".  You should recall from your precalculus experience that lines like the black one here are called "tangent" lines.  Tangent lines to graphs are very important to applied scientists such as physicists.  It would be nice to write an equation for this tangent line but you'll notice that we can't quite do that.  Why?  Well, after a little thought you hopefully realized that while we have a point that the line passes through <m>(1,1)</m>, we would need either another point the line passes through or the slope of the line in order to write an equation for it.  But, we have neither.  So, the tangent line is just an idea and not something we can concretely describe at this point.  Our goal is to solve this "tangent line problem" by finding a way to compute the slope of lines tangent to graphs so that we can write equations for them.
    </p>
    <p>
    So... how?  How did historical mathematical luminaries such as Isaac Newton solve this tangent line problem?  Well, suppose for a moment that instead of looking at the tangent line, we look at a line passing through <m>(1,1)</m> and a point on the graph just a teensy bit to the right or left of <m>(1,1)</m>.  So, suppose <m>h</m> is a teensy number.  We could adjust <m>1</m> by that amount and look up at the graph to the point <m>(1+h, f(1+h))</m>.  For example, we could take <m>h=.75</m> giving us the point on the graph <m>(1.75,1.75^2)=(1.75,3.0625)</m>.  The line going through the two points <m>(1,1)</m> and <m>(1.75,1.75^2)=(1.75,3.0625)</m> has a slope (rise/run) equal to <m>(3.0625-1)/(1.75-1) = 2.75</m> (i.e. <m>(f(1+h)-f(1))/h</m>).  So, that line *can* be plotted since we have both a slope, <m>2.75</m>), and a point the line passes through, <m>(1,1)</m>.  Here, let's plot that line as a dashed line and show it along with the tangent line.
    <image width="65%">
      <sageplot>
        fg = plot(x^2, x, -.5, 2, color='black')
        tl = plot(2*(x-1)+1, x, -.5, 2, color='black')
        l1 = plot(2.75*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
        pt = point((1, 1), rgbcolor='black', pointsize=30)
        pt2 = point((1.75, 3.0625), rgbcolor='red', pointsize=30)
        fg+tl+l1+pt+pt2
      </sageplot>
    </image>
    You'll notice that while this dashed line is not quite the tangent line, it is ... close.  We could get even closer by choosing a point even closer to <m>(1,1)</m>.  In other words, make <m>h</m> smaller (either a teensier positive or negative number).  For smaller and smaller values of <m>h</m>, the resulting lines should look more and more line the tangent line. For example, suppose we take <m>h's</m> like <m>.75, .5, .1,</m> and <m>.01</m>.  Those give lines with the following slopes
  </p>
  <p>
    <tabular halign="center">
      <row header="yes" bottom="minor" >
        <cell><m>h</m></cell>
        <cell><m>(f(1+h)-f(1))/h</m></cell>
      </row>
      <row>
        <cell>.75</cell>
        <cell>2.75</cell>
      </row>
      <row>
        <cell>0.5</cell>
        <cell>2.5</cell>
      </row>
      <row>
        <cell>0.1</cell>
        <cell>2.1</cell>
      </row>
      <row>
        <cell>0.01</cell>
        <cell>2.01</cell>
      </row>
    </tabular>
    </p>
    <p>
      If we plot all of these lines, here is what they look like
      <image width="65%">
        <sageplot>
          fg = plot(x^2, x, -.5, 2, color='black')
          tl = plot(2*(x-1)+1, x, -.5, 2, color='black')
          l1 = plot(2.75*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
          l2 = plot(2.5*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
          l3 = plot(2.1*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
          l4 = plot(2.01*(x-1)+1, x, -.5, 2, color='red', linestyle='dashed')
          pt = point((1, 1), rgbcolor='black', pointsize=30)
          pt1 = point((1.75, 3.0625), rgbcolor='red', pointsize=30)
          pt2 = point((1.5, 2.25), rgbcolor='red', pointsize=30)
          pt3 = point((1.1, 1.21), rgbcolor='red', pointsize=30)
          pt4 = point((1.01, 1.0201), rgbcolor='red', pointsize=30)
          fg+tl+l1+l2+l3+l4+pt+pt1+pt2+pt3+pt4
        </sageplot>
      </image>
    </p>
    <p>
      So, what do we think the slope of the tangent line is likely to be?  It's apparent that if we let <m>h</m> continue to shrink, the associated lines have slopes that are getting closer and closer to <m>2</m>.  Plotting the line through <m>(1,1)</m> with slope <m>2</m> gives us exactly the tangent line depicted in black.  So, at least for the function <m>f(x)=x^2</m> and the point <m>(1,1)</m> on its graph, we've solved the tangent line problem!
    </p>
    <example>
      Implement the same solution but this time look at a different point on the graph of <m>f(x)=x^2</m> (e.g. maybe <m>x=1.5</m> or <m>x=-0.5</m>) etc.)
    </example>
  </section>
  <section xml:id="sec-definitionOfDerivative">
    <title>Definition</title>
    <p>
      The tangent problem solution from the previous section motivates us to define a function in the following way.
    </p>
    <definition xml:id="def-derivative">
      For a fucntion defined on an interval and a point <m>x</m> in that interval, we define
      <me>
        f'(x)=\displaystyle \lim_{h\to 0}\frac{f(x+h)-f(x)}{h}
      </me>
      for any <m>x</m> for which this limit exists.  We call this function the "derivative" of <m>f</m> and for any <m>x</m> where its defined, we say that <m>f</m> is "differentiable" there.  The derivative function <m>f'(x)</m> is sometimes denoted <m>\frac{df}{dx}(x)</m>.  
    </definition>
    <p>
      For example, suppose the function is just a constant like <m>f(x)=k</m>.  Think about the graph of that function.  It's just a flat line at a height of <m>k</m>.  Consequently, regardless of the value of <m>x</m>, the tangent line is flat (i.e. <m>0</m> slope), so when <m>f(x)</m> is constant, we get <m>f'(x)=0</m> for all values of <m>x</m>.  We note here that when the expression for the definition of <m>f</m> is particularly simple, we often lazily just write the expression down instead of the name of the function.  So, for example, we could write <m>k'=0</m>.
    </p>
    <p>
      Here's another example.  Consider <m>f(x)=x</m>.  The graph of <m>x</m> is a straight line with slope <m>1</m>.  So, this is any easy one to get the derivative at any value of <m>x</m>.  Namely, for <m>f(x)=x</m>, we have <m>f'(x)=1</m> (i.e. <m>x'=1</m>) for any value of <m>x</m>.
    </p>
    <p>
      So, those two examples don't require the use of any of our new limit finding skills.  They are obvious from geometry.  But, In the previous section, we did some of these computations for <m>f(x)=x^2</m>.  Looking back, you'll recall we found <m>f'(1)=2</m>.  Even more, if you worked through the example there doing both of the given <m>x</m> values, you would have found that <m>f'(-.5)=-1</m> and <m>f'(1.5)=3</m>.  So, based on those facts, can you speculate on a general expression for <m>(x^2)'</m>?  Well, let's use our limit finding skills to compute <m>f'(x)</m> for a very broad range of <m>x</m> values all at once.  So, suppose <m>x</m> is, generically, a number in the domain of <m>f(x)=x^2</m>.  Now,
    </p>
    <me>
      \begin{array}{llll}
        f'(x) \amp = \amp \displaystyle \lim_{h\to 0} \frac{f(x+h)-f(x)}{h} \amp (\text{from definition of derivative}) \\
              \amp = \amp \displaystyle \lim_{h\to 0} \frac{(x+h)^2-x^2}{h} \amp (\text{from definition of f}) \\
              \amp = \amp \displaystyle \lim_{h\to 0} \frac{x^2+2xh+h^2-x^2}{h} \amp (\text{from basic algebra}) \\
              \amp = \amp \displaystyle \lim_{h\to 0} \frac{h(2x+h)}{h} \amp (\text{from basic algebra}) \\
              \amp = \amp \displaystyle \lim_{h\to 0} 2x+h \amp (\text{from basic algebra}) \\
              \amp = \amp \displaystyle 2x \amp (\text{from limit basics}) \\
      \end{array}
    </me>
    <p>
      Notice here that the derivative function requires computing a limit using the value <m>f(x)</m>.  So, the domain of the derivative is, at most, the domain of <m>f</m>.  So, does that mean that it is always the case that for every <m>x</m> in the domain of <m>f</m>, we can find <m>f'(x)</m>?  No.  Unfortunately not.  Consider for example <m>f(x)=|x|</m>.  Let's graph this function near <m>x=0</m>.
    </p> 
    <image width="65%">
      <sageplot>
        fg = plot(abs(x), x, -1, 1, color='black')
        fg
      </sageplot>
    </image>
    <p>
      Think for a moment of the point <m>(0,0)</m> on this graph.  It is not entirely clear what the tangent line there should be.  There are lots of lines touching that point that don't "cut" through the graph and could be possible tangent lines.  It's apparent that for <m>x \gt 0</m> the slope of the tangent line is <m>1</m> and for <m>x \lt 0</m> the slope of the tangent line is <m>-1</m>.  But what about at <m>x=0</m>?  Well, let's compute using the definition.
    </p>
    <me>
      \begin{array}{llll}
      f'(0) \amp = \amp \displaystyle \lim_{h\to 0} \frac{f(0+h)-f(0)}{h} \amp (\text{from definition of derivative}) \\
            \amp = \amp \displaystyle \lim_{h\to 0} \frac{|0+h|-|0|}{h} \amp (\text{def of absolute value}) \\
            \amp = \amp \displaystyle \lim_{h\to 0} \frac{|h|}{h} \amp (\text{def of absolute value}) \\
      \end{array}
    </me>
    <p>
      We looked at this limit in the chapter on limits.  It turns out that it doesn't exist as we found <m>\displaystyle \lim_{h\to 0^{+}} \frac{|h|}{h} = 1</m> but unfortunately <m>\displaystyle \lim_{h\to 0^{-}} \frac{|h|}{h} = -1</m>.  So, <m>f'(x)</m> does not exist / is not defined when <m>x=0</m>.  Apparently, that is generally the case when "cusps" like this exist in the graph.
    </p>
    <p>
      There is another circumstance where one can see that derivatives do not exist.  Specifically, if you look at a function that has a discontinuity somehwere, you would observe that the derivative does not exist there.  For example, look at the function  
      <me>
        f(x) = \left\{ \begin{array}{cc}
          1 \amp 0 \lt x\\
          -1 \amp x \le 0
        \end{array}
        \right.
      </me>
      which is graphed here.
      <image width="65%">
        <sageplot>
          fg1 = plot(1, x, .005, 2, color='black', ymax=2, ymin=-2)
          fg2 = plot(-1, x, -2, 0, color='black', ymax=2, ymin=-2)
          pt2 = circle((0,1), 0.04, rgbcolor=(0,0,0))
          pt1 = point((0,-1), rgbcolor='black', pointsize=50)
          fg1+fg2+pt1+pt2
        </sageplot>
      </image>
      Suppose we try to find its derivative at <m>x=0</m> (i.e. slope of the tangent line to <m>(0,f(0))=(0,-1)</m>).  To see what it should be from the definition, let's add tiny positive values of <m>h</m> like <m>.5, .2,</m> and <m>.1</m> to <m>x=0</m>.  These give <m>f(.5)=1, f(.2)=1,</m> and <m>f(.1)=1</m>.  Let's plot those and see what the lines through those points and <m>(0,-1)</m> look like.
      <image width="65%">
        <sageplot>
          fg1 = plot(1, x, .005, 2, color='black')
          fg2 = plot(-1, x, -2, 0, color='black')
          pt2 = circle((0,1), 0.04, rgbcolor=(0,0,0))
          pt1 = point((0,-1), rgbcolor='black', pointsize=50)
          s1 = plot((2/.5)*x - 1, x, -2, 2, color='red', linestyle='dashed', ymax=2, ymin=-2)
          spt1 = point((.5,1), rgbcolor='red', pointsize=50)
          s2 = plot((2/.2)*x - 1, x, -2, 2, color='red', linestyle='dashed', ymax=2, ymin=-2)
          spt2 = point((.2,1), rgbcolor='red', pointsize=50)
          s3 = plot((2/.1)*x - 1, x, -2, 2, color='red', linestyle='dashed', ymax=2, ymin=-2)
          spt3 = point((.1,1), rgbcolor='red', pointsize=50)
          fg1+fg2+pt1+pt2+s1+s2+s3+spt1+spt2+spt3
        </sageplot>
      </image>
      We see here that the limit of those slopes is positively infinite.  In other words, it doesn't exist.  In general it is true that a failure of continuity at a point means that the function can't be differentiated there.  Stated more directly we have ...   
    </p> 
      <theorem xml:id="thm-differentiableImpliesContinuous">
        <statement>
          <p>
            If <m>f</m> is differentiable at a given value in its domain, then it must be continous there too.
          </p>
        </statement>
      </theorem>
  </section>
  <section xml:id="sec-propertiesOfDerivative">
    <title>Basic Properties</title>
    <p>
      So, in previous sections, we figured out a few derivatives like <m>k'=0</m>, <m>x'=1</m> and <m>(x^2)'=2x</m>.  Now what?  Well, careful application of the definition of derivative would also give the following
    </p>
    <theorem xml:id="thm-knownDerivatives">
      <statement>
        <p>
          <m>sin'(x)=cos(x), cos'(x)=-sin(x), (e^x)'=e^x</m> and <m>ln'(x)=1/x</m>
        </p>
      </statement>
    </theorem>
    <p>
      Even better, derivative is as robust a concept as limit in that it yields the following basic properties theorem.
    </p>
    <theorem xml:id="thm-derivativeBasicProperties">
      <statement>
        <ol>
          <li>
            <p>
              If <m>r</m> and <m>s</m> are any numbers and <m>f</m> and <m>g</m> are differentiable at <m>x</m>, then <m>(rf+sg)'(x)=rf'(x)+sg'(x)</m>.
            </p>
          </li>
          <li>
            <p>
              If <m>f</m> and <m>g</m> are differentiable at <m>x</m>, then <m>(fg)'(x)=f'(x)g(x)+f(x)g'(x)</m>.
            </p>
          </li>
          <li>
            <p>
              If <m>f</m> and <m>g</m> are differentiable at <m>x</m> and <m>g(x)\ne 0</m>, then <m>(\frac{f}{g})'(x)=\frac{f'(x)g(x)-f(x)g'(x)}{(g(x))^2}</m>.
            </p>
          </li>
        </ol>
      </statement>
    </theorem>
    <p>
      Perhaps the first obvious thing we can prove from these basic facts is that <m>(x^3)'=3x^2</m>.  How?  Do you see it?  Well, notice that <m>x^3=x^2</m> times <m>x</m>.  So, the product property 2 of derivatives in the theorem above applies here giving <m>(x^3)'=(x^2x)'=(x^2)'x+x^2x' = 2xx + x^2= 3x^2</m>.  Similarly we could get <m>(x^4)'=4x^3</m>.  Do you see a pattern:  <m>(x^2)'=2x</m>, <m>(x^3)'=3x^2</m>, <m>(x^4)'=4x^3</m>, etc.  In greatest generality, we have
    </p>    
    <theorem xml:id="thm-derivativeOfPowerFunctions">
      <statement>
        <p>
          If <m>x^{r-1}</m> is defined on a given open interval, then <m>(x^r)'=rx^{r-1}</m> there
        </p>
      </statement>
    </theorem>
    <p>
      More dramatic is that using the few derivatives we know and this basic properties theorem, we are now able to differentiate a large swath of functions.  Let's throw one together like
      <me>f(x)=\frac{sin(x)}{x^2+1}</me>
      We now can compute
      <me>
        \begin{array}{llll}
          f'(x) \amp = \amp (\frac{sin(x)}{x^2+1})' \amp (\text{from definition of f}) \\
                \amp = \amp \frac{sin'(x)(x^2+1)-sin(x)(x^2+1)'}{(x^2+1)^2} \amp (\text{the quotient property 3 of derivative}) \\
                \amp = \amp \frac{cos(x)(x^2+1)-sin(x)((x^2)'+1')}{(x^2+1)^2} \amp (\text{known derivatives + sum property 1 of derivative}) \\
                \amp = \amp \frac{cos(x)(x^2+1)-sin(x)(2x)}{(x^2+1)^2} \amp (\text{known derivative})
        \end{array}
      </me>
    </p>
  </section>

  <section xml:id="sec-chainRule">
    <title>Chain Rule</title>
    <p>
      The derivative has one more, arguably more fundamental, basic property that is generally referred to as the chain rule.
    </p>    
    <theorem xml:id="thm-chainRule">
      <title>Chain Rule</title>
      <statement>
        <p>
          If <m>g</m> is differentiable at <m>x</m> and <m>f</m> is differentiable at <m>g(x)</m>, then <m>(f(g(x))'=g'(x)f'(g(x))</m>
        </p>
      </statement>
    </theorem>
    <p>
      Let's try it out.
      <me>
        \begin{array}{llll}
          (sin(x^2))' \amp = \amp (x^2)'sin'(x^2) \amp (\text{from the chain rule}) \\
                \amp = \amp 2xcos(x^2) \amp (\text{known derivatives}) \\
        \end{array}
      </me>
    </p>
  </section>

</chapter>

<chapter xml:id="ch-appsOfDerivative">
  <title>Derivative Applications</title>

  <section xml:id="sec-inverseFunctions">
    <title>Inverse Functions</title>
    <p>
      The chain rule <xref ref="thm-chainRule"/> from <xref ref="sec-chainRule"/> yields an assortment of powerful corollaries.  
    </p>
    <corollary xml:id="cor-inverseFunctionDerivatives">
      <statement>
        <p>
          If <m>f</m> is invertible (i.e. 1-1) and differentiable on an interval, then 
          <me>
            (f^{-1})'(x)=\frac{1}{f'(f^{-1}(x))}
          </me>
          
        </p>
      </statement>
    </corollary>
    <p>
      We don't dwell much on proof in this text but, can you see the proof here?  When we use the name "corollary" for a mathematical statement, we are stating that the proof follows quickly from previous theorems.  Consequently, corollaries provide a gentle introduction to the idea of proof writing.  So, it seems appropriate at this stage to be, at least occasionally, discussing such proofs.  In this case, the corollary above follows quickly from the chain rule.  Why?  Notice that by the definition of inverse functions, we have that <m>f(f^{-1}(x))=x</m>.  Now, use the chain rule to help with differentiating both sides of this equation and see what you get.
    </p>
    <p>
      It's important to note here that, like the basic properties of differentiation from previous sections, this is once again saying that if you know the derivative of one function (<m>f</m> in this case), then you get for free the derivative of another function (<m>f^{-1}</m> in this case).  Let's try it out.
      <me>
        \begin{array}{llll}
          (sin^{-1}(x))' \amp = \amp \frac{1}{sin'(sin^{-1}(x))} \amp (\text{corollary above}) \\
                \amp = \amp \frac{1}{cos(sin^{-1}(x))} \amp (\text{know derivative of sin}) \\
                \amp = \amp \frac{1}{\sqrt{1-x^2}} \amp (\text{trig fact}) \\
        \end{array}
      </me>
    </p>
    <p>
      If you are not remembering / missing some trig stuff, the last equality above may throw you a bit.  Bear in mind, that that is a trig fact and not calculus per se.  Still, if you don't recall that composing a trig function with an inverse trig function leads to an algebraic expression (e.g. <m>cos(sin^{-1}(x))=\sqrt{1-x^2}</m>), then this might be a good time to at least review / look at <m>sin</m> composed with <m>cos^{-1}</m> and <m>cos</m> composed with <m>sin^{-1}</m>
    </p>

    
  </section>
  <section xml:id="sec-implicitFunctions">
    <title>Implicit Functions</title>
    <p>
      I'm thinking of a function with domain variable, say <m>x</m>.  Let's call it <m>y</m>.  Suppose that I told you that <m>x^2y=1</m>.  Notice that here I have not *explicitly* defined <m>y</m> in terms of <m>x</m>.  Can you compute the derivative of <m>y</m>?  Probably you realize that by dividing both sides by <m>x^2</m>, you find the *explicit* expression <m>y=1/x^2</m> so that you can then compute the derivative directly <m>y'=-2/x^3</m>.  
    </p>
    <p>
      But, sometimes equations can be very complicated and finding such explicit expressions for the function implied there just might not be possible.  So, suppose we pretend for a moment that we can't solve <m>x^2y=1</m> explicitly for <m>y</m>.  I know, we can and we did just above.  But, play along like we can't.  Is there nothing we can do to get information about <m>y'</m>?  Well, there is.  Since you know that <m>y</m> is *some* function of <m>x</m>, that means that <m>x^2y</m> is a product of two functions of <m>x</m> (namely <m>x^2</m> and <m>y</m>)  We also know from previous sections how to differentiate a product.  So, differentiation both sides of the equation <m>x^2y=1</m> gives <m>2xy+x^2y'=0</m>.  Solving for <m>y'</m> gives <m>y'=-2xy/x^2=-2y/x</m>.  This doesn't give <m>y'</m> explicitly yet since we don't know <m>y</m> explicitly yet.  But, if someone came along and told us that <m>y=1/x^2</m>, notice that this conclusion gives us immediately that <m>y'=-2/x^3</m>.
    </p>
    <p>
      Of course, it may never happen that you explicitly know what <m>y</m> is so that getting an explicit description of <m>y'</m> might not be possible.  So, does this mean we have no information about <m>y'</m>? Quite the contrary.  Suppose for example that due to some physical knowledge of the situation represented by the equation, we knew that the function <m>y</m> had the value <m>1</m> at <m>x=1</m> (i.e. <m>y(1)=1</m>).  Then the equation we found, <m>y'=-2y/x</m>, tells us that <m>y'(1)=-2(1)/1=-2</m>.  So, we know the slope of the tangent line to the graph of <m>y</m> at <m>(1,1)</m> even though we have no explicit formula helping us to graph <m>y</m>.  Now that we have the slope of the tangent line, <m>2</m>, and the point on the graph it passes through, <m>(1,1)</m>, we can write an equation for the tangent line:
    </p>
    <me>
      y-1 = 2(x-1)
    </me>
    
  </section>
  <section xml:id="sec-introToOptimization">
    <title>Intro to Optimization</title>
    <p>
      Probably the most far reaching application of calculus is optimization.  When we say *optimization*, we are referring to the common applied task of finding the highs and lows of a given circumstance.  For example, business people are always looking for maximum profits or minimum costs.  Engineers are often looking for maximum stress on something so they can build the right structure.  Etc.  Optimzation is an important issue in almost every sort of endeavor.
    </p>
    <p>
      To move forward, let's set down some language often used in optimization.  For us, it's easiest to talk about this in the context of a function since generally we use functions to describe circumstances to which mathematics applies.  When we say *local* or alternatively *relative* maximum, we mean a value the function obtains at some location in its domain that is larger than or equal to any other value it obtains in some interval (possible a very small interval) containing the location.  In otherwords, the function is maximal at that point in that little neighborhood but might get bigger outside of the neighborhood.  Local / relative minimum is analogously defined.  When we say *global* or *absolute* maximum, we mean a value the function obtains at some location in its domain and that value is larger than or equal to any other value the function obtains in its domain.  Global / Absolute minimum is analogously defined.  When we say the function obtains an *optimum* or *extreme* value, we are just indicating that it obtains a max or min but aren't specifying which one.  Let's look at and example to practice the language.  Consider the graph of <m>f(x)=2x^3-3x^2-12x+18</m> given below.
      <image width="65%">
        <sageplot>
          fg = plot(2*x^3-3*x^2-12*x+18, x, -3, 3, color='black')
          cpt = circle((0,1), 0.04, rgbcolor=(0,0,0))
          pt1 = point((2,2*(2)^3-3*(2)^2-12*(2)+18), rgbcolor='black', pointsize=50)
          pt2 = point((-3,2*(-3)^3-3*(-3)^2-12*(-3)+18), rgbcolor='black', pointsize=50)
          fg+pt1+pt2
        </sageplot>
      </image>
      This function has domain <m>[-3,3]</m>.  You'll notice that by the definitions given above it has a *local* min at 2.  Notice the language here.  There is a local min *at* 2.  That local min *is* <m>-2=f(2)</m>.  Let's explore further.  Can you find a global min?  What is it and where does it happen?  Well, yes ... there is one.  It happens *at* <m>x=-3</m> and it *is* <m>-28</m> (i.e. <m>f(-3)</m>).  Okay, finish it out on your own.  Do you find any other extremes?  There are two more.  Can you say what they are and also where they occur?
    </p>
    <p>
      So, how does calculus help find these optimums?  Take a look at the graph above.  Consider the open interval from -1 to 2 (i.e. <m>(-1,2)</m>).  You'll notice there are no optimums on that interval.  Indeed, if you look at any point on the graph in that interval you'll see that there are larger values just to the left of it and smaller values just to the right of it.  If you haven't looked ... look.  Look, for example, at <m>(1,5)=(1,f(1))</m> on the graph.  
      <image width="65%">
        <sageplot>
          fg = plot(2*x^3-3*x^2-12*x+18, x, -3, 3, color='black')
          cpt = circle((0,1), 0.04, rgbcolor=(0,0,0))
          pt1 = point((2,2*(2)^3-3*(2)^2-12*(2)+18), rgbcolor='black', pointsize=50)
          pt2 = point((-3,2*(-3)^3-3*(-3)^2-12*(-3)+18), rgbcolor='black', pointsize=50)
          pt3 = point((1,2*(1)^3-3*(1)^2-12*(1)+18), rgbcolor='red', pointsize=50)
          fg+pt3
        </sageplot>
      </image>
      Look at the values of the function to the left and right of this point.  Like any other value of the function in this interval (from <m>x=-1</m> to <m>x=2</m>), the value of the function is *not* optimal in any way (i.e. it has larger results to the left and smaller ones to the right).  So, if we are looking for optimums, this interval can be ignored.  There are no optimums there.  Now, how could calculus help us spot this useless interval?  Do you see any calculus connection in this interval.  Here, let's plot the tangent line at <m>(1,5)</m> in case the connection isn't evident.
      <image width="65%">
        <sageplot>
          fg = plot(2*x^3-3*x^2-12*x+18, x, -3, 3, color='black')
          tl = plot(-12*(x-1)+5, x, -1, 2, color='red')
          cpt = circle((0,1), 0.04, rgbcolor=(0,0,0))
          pt1 = point((2,2*(2)^3-3*(2)^2-12*(2)+18), rgbcolor='black', pointsize=50)
          pt2 = point((-3,2*(-3)^3-3*(-3)^2-12*(-3)+18), rgbcolor='black', pointsize=50)
          pt3 = point((1,2*(1)^3-3*(1)^2-12*(1)+18), rgbcolor='red', pointsize=50)
          fg+pt3+tl
        </sageplot>
      </image>
      What do you notice about the slope of that tangent line?  Yes, it's negative.  In other words, <m>f'(1)</m> is negative.  In fact, you can see that the derivative (i.e. slopes of tangent lines) are negative in that entire subinterval from -1 to 2.  The derivative being negative there ensures that the function is strictly decreasing, always has negative slope and so the function can't obtain an optimum there.  Similarly, you can see that the derivative is always positive from -3 to -1 so the function doesn't have an optimum in that open interval and the derivative is always positive from 2 to 3 so there is no optimum in that open interval.  That quickly leaves only <m>x=-3, -2, 1</m> and <m>x=3</m> as places where optimums can occur.  This leads to what we call a first derivative analysis theorem.
    </p>
    <theorem xml:id="thm-firstDerivativeAnalysis">
      <statement>
        <p>
          If <m>f'(x)\lt 0</m> for all <m>x</m> in an open interval OR <m>f'(x)\gt 0</m> for all <m>x</m> in an open interval, Then <m>f</m> does not have an optimum on that open interval.
        </p>
      </statement>
    </theorem>
    <p>
      Suppose for example that we hadn't yet studied the function above and someone just hands us <m>f(x)=2x^3-3x^2-12x+18</m>.  Let's do a first derivative analysis on it without even creating the graph.  So, <me>f'(x)=6x^2-6x-12=6(x-2)(x+1)</me>.  We see that this derivative is <m>0</m> at <m>x=-1</m> and <m>x=2</m>.  And on the open intervals <m>(-3,-1), (-1,2), </m> and <m>(2,3)</m> we see that <m>f</m> is either always positive or always negative so the theorem above concludes that there are no optimums there.  Thus, the only *possible* places for optimums are <m>x=-3, -2, 1</m> and <m>x=3</m>.  It's really that simple.  Having narrowed down to just that handful of options, we can study the behavior or the function on either side of those locations to conclude if we have an optimum there and if so, what kind.
    </p>
    
  </section>

  <section xml:id="sec-theExtremeValueTheorem">
    <title>Extreme Value Theorem</title>
    <p>
      The function we worked with in the previous section had both an absolute max and an absolute min.  So, is that true for every function?  Can you picture a function that doesn't have an absolute max or an absolute min?  Consider this function defined on the closed interval <m>[0,2]</m>
      <me>
        f(x) = \left\{ \begin{array}{cc}
          x \amp 0 \le x \le 1 \\
          3-x \amp 1 \lt x \le 2
        \end{array}
        \right.
      </me>
      Does this function have an absolute max?  Let's plot it to see if we can understand the question better.
      <image width="65%">
        <sageplot>
          fg1 = plot(x, x, 0, 1, color='black')
          fg2 = plot(3-x, x, 1.01, 2, color='black')
          cpt = circle((1,2), 0.02, color='black')
          pt = point((1,1), rgbcolor='black', pointsize=50)
          fg1+fg2+pt+cpt
        </sageplot>
      </image>
      Now that we see its graph, what do you think?  Does it *obtain* an absolute max?  You might say, "Well, yeah. Isn't it 2?  Right there at <m>x=1</m>?"  But... no.  At <m>x=1</m> the value of the function is <m>1</m>.  It never actually obtains the value 2.  In fact, no matter where you evaluate this function, there are always larger values that the function obtains.  So, what went wrong?  A little thought leads us to conclude that it is that annoying discontinuity at 1 that is the problem.  So, maybe as long as a function is continuous, we can avoid situations where the function does not obtain its absolute max.  So, suppose we have *better* behaved, continuous function similar to the one we're studying.  For example, suppose that we just use the nice continuous function <m>f(x)=x</m>.  Now, that one is continous everywhere so it shouldn't have a problem.  Right?  Not so fast.  Suppose we define it on the partially open interval <m>[0,2)</m> instead of the closed interval <m>[0,2]</m>.  Then we get this graph
      <image width="65%">
        <sageplot>
          fg1 = plot(x, x, 0, 1.99, color='black')
          cpt1 = circle((2,2), 0.02, color='black')
          cpt2 = circle((2,0), 0.02, color='black')
          pt = point((1,1), rgbcolor='black', pointsize=50)
          fg1+cpt1+cpt2
        </sageplot>
      </image>
      Once again, we see that the function does not obtain an absolute maximum.  The problem this time is that the domain interval has that darned open end.  At this point, you may be thinking that there might be tons of ways a function could have problems that prevent extremes from being obtained.  Fortunately, that's not really the case.  The two problems identified above are the only real issues.  In fact, we have ...
    </p>
    <theorem xml:id="thm-extremeValueTheorem">
      <title>The Extreme Value Theorem</title>
      <statement>
        <p>
          If <m>f</m> is continuous on a closed interval, Then <m>f</m> obtains an global max and a global min on that interval.
        </p>
      </statement>
    </theorem>
    <p>
      Notice that this theorem makes finding optimums pretty easy.  Namely, if you have a continuous function on a closed interval, it guarantees that the function WILL obtain an absolute max and an absolute min on that interval.  So, we can just do a first derivative analysis to narrow our options down to a few critical numbers in the domain (i.e. eliminate open intervals where optimums can't happen), evaluate our function at those places and the largest result must be the absolute max and the smallest the absolute min.
    </p>
    
  </section>  
  <section xml:id="sec-modeling">
    <title>Modeling</title>
    <p>
      The goal of this text is to keep the calculus presentation as lean and clear as possible.  But, ultimately, I feel that some nod has to be given to seeing how the rest of the world ends up seeing value in calculus.  So, in this section let's quit doing math for a bit and instead look at some other kind of work and see how it can benefit from calculus.  The general notion here is that of "modeling".  This sort of process is very natural for us humans.  The idea is that we have a problem in one sphere of interest and it turns out that we can create a version of that problem in some other sphere of interest -- think making maps of the world on paper so you can roll the world up and take it with you.  So, we're taking the interest in travelling about the world and modeling it using paper and drawings.  In that way, we can work on travel problems by doing stuff with paper and such instead of actually being out there in the world moving around.  How useful the information is depends on how good the model is and how well we can work with it.  The development of math has substantially been driven by the fact that so many spheres of interest lend themselves to good mathematical models.  
    </p>
    <p>
      Let's avoid getting too complicated but also make sure we don't produce something trivial.  We do this to avoid having to learn a lot of new ideas from some other sphere of interest from which we can then draw a model.  
    </p>
    <p>
      Sooooo.... suppose we are a specialized shipping company and we need to design a cylindrical container.  We have a company that wants containers to ship a precious substance in cylindrical containers using a specific kind of metal.  The dimensions of the container don't much matter to them but they want the containers to have a volume of 1000 cubic centimeters.  After talking with our production department, we learn that making the top and bottom of the cylindrical container is a bit more expensive at 2 cents per square centimeter while the side only costs 1.5 cents per square centimeter.  So, what dimensions should we use?
    </p>
    <p>
      Well, generally when people say "cylindrical containers" they mean right circular cyclinders so they could be described with 2 dimensions.  For example, we could use the radius of the circular ends and the height of the container.  Hmmmm... but, if we have one of those dimensions, it occurs to us that the other dimension would be determined since the container is supposed to have volume <m>1000cm^3</m>.  After all, from our geometry background, we know that if we denote the radius with an <m>r</m> and the height with an <m>h</m>, then volume is given by <m>\pi r^2h</m>.  So, for us, we have
      <me>\pi r^2h=1000</me>
      That means that for any given radius, we have 
      <me>h=\frac{1000}{\pi r^2}</me>
      This is good news because it means we're down to just one variable... <m>r</m>.
    </p>
    <p>
      Now, we're trying to deal with costs.  So, let's make a function for cost based on our variable <m>r</m>.  We'll do it in terms of cents since that is how the problem was described to us.  Well, the area of the top and bottom combined is <m>2\pi r^2cm^2</m>.  Since the cost for those is 2 cents per <m>cm^2</m>, we see that the top and bottom contribute <m>4\pi r^2</m> cents to the cost.  Now, if you lay out the side of the cylinder flat, you see it is a rectangle with dimensions <m>h=\frac{1000}{\pi r^2}</m> and circumference of the circle making the top and bottom of the cylinder, <m>2\pi r</m>.  So, the area of the side of the cylinder is the product of those two dimensions giving an area of 
      <me>(2\pi r)(\frac{1000}{\pi r^2})cm^2 = \frac{2000}{r}cm^2</me>
      That area only costs 1 cent per <m>cm^2</m> so it contributes <m>\frac{2000}{r}</m> cents to the cost.  Finally, we have a cost function.  Let's denote cost with a <m>C</m> so that now we have
      <me>C(r)=4\pi r^2 + \frac{2000}{r}</me>
      Even more, we know that the domain we want to use is any positive <m>r</m> (i.e. the open interval <m>(0,\infty)</m>).
    </p>
    <p>
      That's it!  We've created a mathematical model of the original problem.  From here on, the work is done with familiar mathamematics.  We're simply using optimization skills from previous experience.  As a matter of completeness, let's work through the math.  So...
      <me>C'(r)=8\pi-\frac{2000}{r^2}</me>
      From this, we see that <m>0=C'(r)</m> only when <m>0=8\pi r^2 -2000</m> which means 
      <me>r=\sqrt{\frac{250}{\pi}} \approx 8.92</me>
      To the left of that <m>r</m>, <m>C'(r)</m> isn't 0, so it's either positive or negative and we can easily evaluate <m>C'(r)</m> at some point to the left and see that it is negative.  So, <m>C(r)</m> decreases until it reaches <m>r \approx 8.92</m>.  Similarly, to the right of that <m>r</m>, we see that <m>C'(r)</m> is positive so <m>C(r)</m> increases.  Thus, by first derivative analysis, we see that <m>C(r)</m> is minimal at <m>r \approx 8.92</m>.
    </p>
    <p>
      We can now report that to minimize cost in this situation, we should use <m>r \approx 8.92</m> which means <m>h \approx 4</m> for a minimal cost of approximately <m>1224.08</m> cents.
    </p>
    
  </section>
  
</chapter>


  </book>
</pretext>
